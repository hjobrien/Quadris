package engine;

import java.util.ArrayList;
import java.util.Random;

import blocks.Block;
import blocks.LeftL;
import blocks.LeftS;
import blocks.RightL;
import blocks.RightS;
import blocks.Square;
import blocks.StraightLine;
import blocks.TBlock;
import blocks.Tile;
import cerulean.Cerulean;
import mainGame.Board;
import mainGame.Move;

public class Engine {
  private static Board board;
  private static Board nextPieceBoard;
  private static Block nextBlock = genRandomBlock();
  private static boolean isPaused = false;
  private static boolean autoplay = false;
  private static boolean randomizeBlocks;
  private static int blockCount = 0;
  private static int gameNum = 0;

  private static boolean logMode;
  // private static boolean debugMode;
  
  //lists of numbers corresponding to blocks, translated in the 'genNextBlock' method
  public static final int[][] BLOCKS = new int[][]{
      {0, 1, 6, 5, 2, 5, 1, 6, 4, 2, 4, 2, 4, 3, 5, 6, 3, 3, 4, 4, 3, 4, 6, 1, 4, 3, 4, 4, 5, 6, 2, 6, 5, 3, 5, 3, 4, 5, 0, 4, 2, 4, 3, 2, 4, 3, 3, 0, 0, 1, 3, 3, 5, 1, 3, 4, 5, 1, 6, 4, 0, 2, 0, 0, 0, 4, 6, 5, 3, 4, 3, 2, 6, 6, 6, 2, 3, 5, 4, 4, 2, 2, 3, 6, 4, 3, 2, 3, 6, 0, 4, 5, 5, 2, 3, 6, 5, 1, 3, 3, 6, 5, 6, 2, 3, 5, 2, 1, 2, 4, 4, 5, 1, 3, 4, 5, 4, 5, 6, 4, 2, 2, 3, 1, 2, 4, 5, 5, 5, 5, 6, 5, 2, 2, 5, 5, 4, 3, 4, 1, 0, 3, 0, 4, 5, 0, 6, 5, 6, 1, 4, 0, 4, 1, 5, 0, 0, 6, 6, 1, 0, 5, 5, 0, 3, 5, 5, 0, 2, 6, 0, 2, 6, 3, 1, 0, 1, 5, 4, 4, 1, 0, 5, 1, 1, 6, 1, 0, 4, 1, 2, 0, 5, 2, 2, 0, 5, 3, 5, 3, 4, 4, 1, 0, 0, 6, 1, 5, 5, 4, 1, 4, 3, 5, 3, 5, 6, 4, 3, 4, 1, 4, 2, 6, 5, 6, 0, 4, 4, 1, 2, 1, 4, 1, 5, 1, 1, 6, 5, 5, 4, 2, 2, 4, 1, 4, 1, 4, 0, 4, 3, 2, 2, 6, 3, 5, 3, 6, 2, 4, 4, 6, 6, 5, 5, 0, 3, 5, 4, 5, 1, 2, 5, 0, 5, 3, 3, 1, 6, 4, 4, 6, 1, 2, 1, 4, 5, 2, 1, 4, 3, 2, 6, 2, 5, 6, 4, 1, 1, 4},
      {5, 4, 6, 1, 5, 1, 5, 3, 6, 6, 1, 0, 3, 6, 0, 3, 1, 3, 1, 4, 5, 0, 5, 5, 6, 6, 4, 2, 6, 2, 4, 2, 3, 2, 5, 5, 6, 3, 1, 3, 6, 5, 2, 4, 4, 3, 4, 3, 6, 3, 6, 5, 3, 4, 3, 2, 5, 1, 0, 3, 1, 1, 1, 4, 2, 2, 0, 4, 2, 0, 4, 1, 3, 3, 5, 6, 0, 1, 3, 3, 2, 1, 1, 6, 3, 4, 4, 0, 3, 6, 1, 0, 3, 1, 2, 0, 4, 5, 5, 2, 3, 2, 2, 5, 0, 6, 0, 1, 5, 4, 2, 0, 2, 0, 3, 1, 5, 6, 6, 2, 1, 5, 1, 5, 5, 3, 6, 5, 1, 3, 0, 2, 2, 4, 0, 4, 3, 4, 2, 3, 6, 0, 0, 1, 3, 6, 0, 6, 6, 4, 4, 2, 3, 3, 0, 3, 1, 3, 4, 4, 2, 3, 4, 3, 4, 0, 5, 1, 0, 6, 1, 6, 4, 6, 3, 2, 6, 1, 0, 3, 1, 3, 0, 3, 4, 3, 5, 2, 1, 2, 0, 6, 2, 6, 4, 5, 5, 6, 0, 1, 3, 3, 1, 6, 6, 1, 2, 6, 3, 1, 2, 2, 5, 3, 6, 5, 5, 5, 6, 2, 6, 6, 4, 1, 6, 1, 5, 1, 4, 2, 1, 3, 1, 3, 0, 3, 3, 2, 6, 5, 4, 5, 2, 0, 1, 3, 3, 6, 1, 0, 5, 4, 0, 1, 5, 5, 3, 0, 2, 4, 6, 4, 0, 3, 6, 0, 4, 5, 0, 0, 1, 1, 5, 5, 4, 6, 4, 5, 5, 1, 0, 1, 2, 1, 0, 5, 6, 3, 1, 0, 1, 5, 1, 2, 1, 4, 6, 3, 1, 4},
      {5, 6, 6, 3, 1, 6, 1, 1, 2, 4, 1, 3, 5, 4, 5, 0, 3, 5, 1, 1, 2, 3, 6, 3, 3, 6, 3, 6, 6, 0, 0, 4, 0, 3, 3, 1, 0, 4, 1, 5, 1, 2, 5, 6, 3, 6, 1, 2, 2, 2, 3, 5, 1, 1, 2, 0, 1, 2, 0, 4, 5, 3, 6, 1, 0, 5, 5, 2, 1, 3, 0, 5, 4, 1, 6, 3, 6, 2, 1, 0, 6, 2, 0, 2, 0, 5, 4, 1, 4, 6, 5, 3, 0, 4, 4, 4, 6, 2, 6, 6, 5, 2, 6, 2, 1, 2, 5, 2, 4, 3, 2, 1, 5, 4, 2, 3, 4, 3, 3, 6, 4, 6, 3, 5, 5, 0, 3, 3, 4, 3, 3, 6, 0, 1, 6, 0, 6, 0, 3, 5, 4, 2, 4, 3, 4, 4, 4, 0, 5, 4, 3, 6, 4, 1, 2, 0, 0, 2, 1, 1, 6, 6, 1, 1, 3, 5, 2, 4, 5, 5, 0, 3, 4, 3, 0, 5, 3, 4, 0, 3, 1, 6, 6, 1, 3, 6, 4, 1, 3, 0, 3, 6, 2, 2, 2, 0, 0, 5, 1, 1, 5, 6, 3, 3, 4, 4, 0, 1, 3, 6, 4, 5, 1, 0, 6, 0, 6, 3, 1, 1, 1, 3, 6, 0, 1, 1, 1, 5, 2, 1, 0, 1, 3, 2, 5, 5, 3, 5, 5, 0, 5, 4, 2, 6, 4, 2, 3, 2, 4, 6, 2, 0, 6, 5, 4, 4, 3, 6, 3, 1, 6, 6, 5, 5, 0, 5, 0, 2, 6, 5, 1, 2, 4, 0, 3, 6, 0, 1, 1, 3, 4, 2, 6, 6, 2, 0, 0, 2, 6, 1, 5, 2, 5, 5, 3, 5, 4, 4, 0, 3},
      {2, 5, 3, 2, 0, 5, 3, 0, 1, 3, 6, 6, 6, 1, 5, 5, 0, 4, 0, 4, 1, 1, 5, 6, 4, 6, 0, 5, 2, 5, 2, 3, 1, 5, 0, 1, 5, 0, 5, 4, 5, 6, 2, 2, 3, 3, 5, 6, 2, 3, 1, 5, 0, 5, 4, 1, 0, 2, 5, 3, 5, 3, 6, 3, 2, 0, 3, 0, 1, 4, 4, 3, 3, 5, 3, 2, 2, 4, 0, 0, 2, 1, 2, 5, 5, 5, 6, 3, 6, 1, 6, 3, 3, 4, 4, 1, 6, 6, 4, 0, 6, 5, 5, 5, 0, 1, 6, 1, 6, 0, 3, 1, 0, 0, 0, 0, 0, 4, 2, 2, 0, 2, 1, 5, 2, 4, 1, 6, 6, 5, 4, 3, 4, 2, 5, 3, 5, 6, 0, 4, 3, 0, 1, 4, 6, 5, 4, 1, 4, 5, 5, 1, 1, 1, 3, 2, 5, 6, 3, 3, 1, 1, 6, 0, 4, 3, 3, 3, 4, 3, 6, 5, 6, 5, 0, 1, 5, 3, 3, 0, 2, 1, 4, 2, 0, 0, 6, 2, 0, 0, 5, 0, 0, 1, 4, 3, 1, 0, 6, 4, 6, 6, 6, 6, 2, 0, 3, 2, 1, 3, 3, 2, 2, 4, 2, 3, 4, 1, 6, 3, 6, 3, 1, 4, 0, 0, 2, 3, 0, 3, 5, 3, 5, 6, 4, 6, 4, 5, 2, 4, 0, 1, 3, 3, 4, 5, 0, 5, 1, 5, 0, 1, 4, 3, 6, 4, 1, 4, 6, 3, 2, 2, 0, 0, 1, 2, 1, 3, 0, 3, 1, 0, 2, 2, 2, 2, 6, 0, 6, 6, 4, 3, 0, 3, 3, 5, 1, 5, 6, 1, 5, 0, 2, 3, 5, 4, 5, 4, 5, 2},
      {1, 4, 2, 1, 6, 5, 2, 6, 2, 5, 3, 4, 1, 4, 2, 2, 1, 1, 4, 3, 0, 1, 3, 2, 5, 0, 0, 3, 2, 4, 6, 2, 6, 0, 4, 1, 4, 1, 4, 6, 1, 3, 4, 5, 1, 3, 5, 3, 5, 0, 1, 6, 3, 5, 4, 6, 2, 2, 1, 0, 0, 3, 2, 2, 3, 2, 4, 5, 3, 3, 2, 6, 5, 1, 0, 4, 4, 4, 6, 1, 2, 3, 0, 6, 2, 5, 4, 6, 1, 3, 4, 4, 0, 0, 1, 6, 5, 1, 4, 1, 3, 0, 0, 0, 3, 1, 1, 4, 5, 4, 6, 1, 3, 2, 2, 1, 0, 5, 3, 2, 3, 0, 0, 1, 6, 2, 6, 1, 4, 1, 3, 1, 0, 6, 0, 0, 3, 0, 1, 2, 6, 4, 2, 5, 3, 6, 0, 1, 1, 0, 6, 3, 5, 6, 0, 5, 4, 1, 3, 3, 2, 6, 6, 2, 0, 6, 6, 1, 2, 4, 6, 0, 4, 1, 3, 0, 3, 3, 4, 4, 2, 2, 1, 6, 6, 0, 4, 3, 5, 0, 2, 5, 5, 3, 3, 0, 2, 3, 2, 5, 6, 5, 0, 0, 0, 1, 5, 6, 6, 4, 3, 2, 4, 1, 2, 3, 5, 3, 2, 5, 0, 3, 2, 1, 3, 4, 0, 6, 4, 5, 5, 2, 5, 0, 6, 6, 5, 4, 5, 1, 5, 4, 6, 5, 3, 3, 5, 2, 4, 0, 2, 4, 5, 0, 6, 2, 4, 6, 5, 6, 6, 0, 5, 5, 1, 5, 6, 6, 4, 1, 6, 4, 1, 3, 6, 1, 1, 6, 5, 2, 1, 6, 5, 2, 4, 0, 4, 3, 5, 4, 4, 4, 1, 0, 0, 1, 4, 3, 5, 5},
      {4, 6, 4, 0, 5, 6, 0, 1, 0, 4, 4, 1, 5, 4, 1, 3, 4, 5, 3, 1, 5, 6, 1, 0, 2, 5, 0, 3, 0, 6, 3, 6, 6, 1, 5, 0, 5, 1, 5, 0, 3, 3, 6, 3, 5, 4, 2, 6, 0, 5, 4, 5, 1, 5, 2, 3, 4, 4, 3, 5, 2, 3, 3, 6, 4, 6, 6, 0, 5, 6, 4, 3, 3, 1, 6, 2, 1, 5, 6, 4, 6, 5, 0, 3, 5, 0, 2, 5, 6, 3, 2, 5, 2, 0, 3, 1, 4, 4, 0, 3, 5, 6, 4, 0, 2, 1, 6, 2, 5, 3, 4, 3, 4, 6, 4, 3, 6, 6, 3, 1, 6, 6, 5, 5, 1, 2, 2, 5, 5, 5, 2, 6, 0, 5, 0, 5, 6, 2, 5, 3, 3, 4, 4, 3, 1, 3, 6, 2, 6, 1, 6, 5, 3, 6, 1, 4, 3, 3, 1, 1, 0, 0, 4, 3, 2, 4, 1, 0, 0, 3, 6, 0, 5, 6, 4, 6, 1, 1, 2, 2, 2, 6, 1, 1, 4, 6, 3, 4, 2, 5, 0, 6, 0, 2, 6, 5, 2, 4, 4, 2, 5, 0, 4, 1, 6, 6, 2, 4, 0, 4, 2, 0, 6, 4, 2, 1, 0, 5, 2, 2, 1, 1, 5, 5, 5, 6, 6, 1, 3, 0, 1, 1, 4, 2, 6, 4, 0, 4, 2, 1, 5, 4, 0, 0, 4, 6, 4, 6, 5, 2, 4, 0, 2, 5, 3, 6, 3, 1, 0, 4, 6, 5, 6, 5, 0, 2, 3, 2, 2, 4, 0, 2, 3, 5, 0, 0, 5, 3, 4, 6, 6, 2, 1, 3, 1, 2, 6, 1, 1, 6, 0, 1, 4, 0, 4, 5, 4, 5, 5, 0},
      {6, 4, 4, 1, 6, 0, 2, 4, 2, 4, 2, 4, 0, 3, 5, 3, 2, 4, 1, 4, 6, 2, 5, 0, 1, 6, 4, 3, 3, 3, 5, 1, 2, 5, 1, 4, 0, 3, 0, 5, 4, 4, 6, 0, 2, 1, 6, 2, 0, 5, 5, 5, 4, 6, 2, 5, 2, 3, 3, 1, 5, 6, 1, 1, 3, 0, 3, 1, 1, 6, 1, 1, 3, 1, 0, 3, 4, 2, 4, 0, 0, 1, 6, 3, 2, 3, 4, 6, 6, 4, 4, 4, 0, 6, 5, 2, 2, 0, 3, 6, 6, 3, 0, 6, 1, 2, 2, 2, 2, 5, 3, 5, 0, 2, 6, 0, 1, 5, 5, 0, 6, 0, 3, 0, 1, 5, 0, 6, 0, 2, 6, 0, 2, 4, 4, 3, 2, 1, 5, 2, 5, 6, 4, 2, 4, 6, 4, 3, 6, 4, 5, 1, 4, 2, 4, 3, 5, 2, 0, 5, 5, 4, 4, 2, 6, 6, 4, 2, 0, 4, 6, 4, 2, 0, 5, 1, 3, 3, 5, 3, 3, 5, 4, 0, 5, 4, 6, 4, 1, 6, 2, 2, 2, 3, 6, 0, 5, 2, 3, 4, 1, 3, 6, 2, 4, 3, 4, 0, 4, 0, 0, 6, 3, 4, 6, 0, 4, 1, 6, 2, 4, 3, 4, 2, 1, 2, 6, 3, 0, 6, 5, 2, 5, 5, 0, 4, 6, 1, 1, 2, 3, 5, 1, 2, 2, 2, 6, 5, 2, 5, 4, 6, 1, 0, 2, 2, 0, 0, 5, 4, 5, 5, 3, 2, 2, 0, 1, 4, 3, 5, 2, 3, 5, 4, 2, 6, 5, 6, 3, 3, 2, 1, 3, 6, 6, 0, 6, 0, 2, 0, 6, 6, 2, 4, 1, 6, 3, 4, 5, 5},
      {1, 3, 3, 4, 3, 1, 6, 5, 5, 2, 3, 1, 2, 5, 0, 2, 4, 3, 1, 6, 1, 3, 5, 1, 6, 6, 6, 5, 3, 0, 3, 1, 6, 3, 1, 1, 5, 6, 1, 5, 5, 2, 3, 2, 0, 1, 5, 3, 2, 1, 1, 2, 0, 0, 5, 2, 3, 2, 5, 2, 4, 4, 4, 6, 0, 6, 0, 0, 1, 2, 5, 0, 1, 6, 2, 5, 3, 3, 3, 0, 2, 0, 1, 5, 0, 4, 1, 6, 6, 4, 3, 1, 1, 2, 5, 2, 3, 4, 4, 6, 6, 6, 1, 6, 4, 6, 3, 1, 1, 1, 3, 1, 6, 6, 1, 4, 6, 4, 4, 1, 4, 1, 3, 6, 4, 3, 3, 1, 2, 0, 3, 5, 3, 5, 0, 4, 5, 6, 3, 4, 2, 6, 3, 3, 4, 5, 1, 0, 0, 6, 3, 2, 6, 4, 1, 5, 0, 0, 1, 3, 6, 6, 6, 5, 1, 0, 3, 2, 2, 5, 0, 6, 6, 5, 0, 6, 1, 6, 1, 4, 1, 2, 4, 4, 2, 5, 4, 4, 3, 2, 4, 4, 0, 2, 3, 1, 0, 6, 5, 6, 0, 3, 6, 2, 4, 4, 4, 5, 4, 1, 2, 0, 5, 0, 2, 1, 2, 4, 0, 0, 1, 5, 5, 1, 4, 6, 2, 6, 0, 6, 3, 2, 0, 3, 5, 0, 5, 4, 1, 0, 0, 1, 3, 4, 4, 4, 5, 6, 0, 1, 4, 3, 1, 2, 2, 3, 0, 0, 6, 4, 5, 2, 5, 3, 1, 0, 2, 1, 1, 6, 1, 2, 0, 5, 3, 1, 5, 1, 0, 1, 5, 5, 4, 3, 6, 1, 3, 0, 5, 4, 6, 0, 0, 4, 3, 0, 2, 6, 5, 0},
      {4, 5, 5, 3, 2, 0, 3, 4, 4, 5, 5, 1, 5, 1, 3, 5, 4, 4, 0, 0, 3, 1, 6, 3, 2, 5, 6, 0, 5, 4, 0, 5, 0, 2, 0, 6, 1, 3, 0, 4, 2, 1, 3, 2, 0, 6, 1, 5, 1, 1, 3, 6, 0, 2, 6, 2, 5, 6, 1, 4, 4, 0, 3, 1, 5, 4, 4, 0, 2, 6, 4, 5, 1, 0, 4, 6, 0, 1, 5, 3, 0, 0, 3, 0, 0, 5, 5, 2, 4, 1, 1, 1, 3, 5, 0, 1, 6, 0, 6, 0, 2, 2, 1, 0, 3, 2, 5, 4, 1, 4, 4, 5, 1, 6, 3, 6, 2, 0, 6, 3, 5, 6, 3, 4, 1, 1, 2, 0, 0, 2, 4, 4, 1, 2, 2, 0, 1, 5, 0, 6, 4, 6, 6, 6, 2, 0, 2, 3, 2, 0, 1, 2, 1, 0, 6, 2, 0, 1, 5, 3, 6, 4, 2, 5, 6, 2, 2, 4, 2, 5, 0, 1, 5, 1, 5, 6, 5, 2, 2, 1, 4, 1, 6, 3, 3, 6, 1, 3, 4, 4, 1, 2, 5, 6, 5, 3, 4, 1, 2, 6, 1, 0, 0, 4, 1, 4, 6, 5, 6, 5, 3, 1, 0, 0, 0, 1, 0, 6, 2, 1, 3, 1, 5, 1, 2, 0, 4, 4, 2, 4, 3, 6, 2, 5, 6, 3, 0, 4, 1, 3, 5, 3, 5, 2, 2, 6, 3, 1, 5, 0, 0, 1, 6, 4, 4, 2, 4, 2, 5, 5, 1, 5, 6, 0, 2, 4, 0, 1, 5, 6, 5, 4, 0, 3, 3, 4, 0, 3, 2, 2, 6, 6, 2, 5, 4, 3, 2, 4, 4, 3, 0, 3, 5, 4, 2, 3, 0, 2, 3, 3},
      {3, 5, 1, 4, 6, 3, 3, 0, 6, 2, 4, 5, 2, 5, 1, 3, 5, 2, 2, 4, 3, 6, 3, 6, 1, 2, 1, 0, 2, 1, 5, 5, 0, 3, 5, 6, 5, 2, 1, 5, 4, 5, 2, 4, 2, 1, 1, 5, 6, 1, 1, 1, 4, 1, 3, 4, 6, 4, 6, 4, 4, 5, 5, 1, 3, 2, 6, 6, 3, 2, 1, 5, 3, 4, 0, 2, 5, 3, 6, 3, 1, 2, 3, 4, 1, 5, 3, 0, 2, 4, 6, 1, 5, 1, 3, 6, 4, 3, 4, 4, 4, 6, 0, 4, 1, 6, 1, 2, 4, 2, 0, 3, 3, 1, 1, 4, 5, 1, 1, 5, 3, 2, 1, 5, 3, 6, 4, 0, 1, 2, 6, 1, 6, 0, 1, 4, 3, 1, 1, 0, 4, 2, 0, 3, 4, 5, 4, 1, 4, 2, 5, 1, 3, 1, 5, 6, 0, 6, 3, 2, 1, 4, 2, 3, 3, 5, 5, 1, 3, 4, 0, 2, 2, 6, 3, 4, 4, 6, 6, 2, 2, 5, 0, 4, 5, 4, 6, 2, 4, 3, 6, 0, 4, 2, 5, 4, 6, 4, 0, 5, 6, 4, 4, 0, 3, 1, 2, 5, 4, 4, 1, 5, 6, 4, 6, 1, 2, 6, 5, 0, 1, 0, 4, 5, 1, 1, 5, 2, 6, 1, 0, 3, 5, 0, 2, 0, 3, 0, 4, 3, 3, 6, 3, 0, 0, 2, 1, 0, 5, 4, 1, 6, 1, 1, 4, 6, 4, 6, 3, 1, 2, 2, 0, 2, 6, 0, 5, 6, 3, 5, 1, 6, 2, 5, 4, 6, 3, 6, 6, 2, 1, 2, 5, 0, 1, 3, 1, 0, 3, 2, 2, 3, 4, 0, 2, 6, 2, 2, 0, 1},
      {6, 3, 2, 3, 6, 3, 3, 6, 2, 4, 3, 2, 3, 3, 3, 1, 1, 0, 5, 1, 6, 5, 3, 0, 3, 3, 2, 3, 4, 4, 0, 4, 5, 4, 0, 5, 4, 4, 3, 2, 3, 0, 6, 5, 1, 2, 0, 4, 2, 1, 3, 3, 2, 1, 4, 3, 3, 6, 2, 0, 2, 0, 3, 4, 3, 2, 4, 2, 0, 4, 6, 3, 0, 6, 1, 3, 5, 4, 5, 6, 2, 1, 4, 4, 5, 4, 4, 5, 0, 0, 2, 2, 3, 2, 0, 0, 2, 1, 0, 3, 3, 0, 0, 1, 6, 0, 3, 2, 2, 5, 6, 4, 0, 2, 1, 1, 4, 0, 4, 4, 2, 1, 3, 3, 4, 1, 5, 2, 3, 0, 3, 6, 2, 3, 4, 0, 4, 0, 3, 5, 3, 0, 3, 3, 5, 4, 1, 4, 6, 0, 6, 5, 5, 0, 0, 5, 0, 3, 4, 5, 5, 5, 3, 5, 2, 5, 6, 2, 0, 2, 5, 1, 3, 5, 1, 4, 3, 5, 0, 3, 2, 2, 6, 2, 5, 5, 4, 3, 6, 2, 2, 2, 2, 5, 3, 2, 0, 4, 3, 5, 2, 0, 5, 5, 3, 1, 6, 1, 1, 2, 4, 0, 4, 2, 2, 0, 6, 5, 4, 4, 2, 1, 1, 4, 4, 4, 5, 6, 3, 4, 3, 4, 2, 5, 3, 3, 6, 3, 6, 0, 2, 5, 3, 0, 4, 0, 4, 4, 3, 6, 3, 3, 0, 4, 6, 6, 4, 2, 1, 2, 3, 2, 3, 1, 4, 1, 3, 1, 0, 4, 5, 4, 1, 4, 0, 5, 5, 6, 0, 5, 6, 4, 2, 1, 5, 5, 6, 2, 0, 3, 6, 6, 6, 1, 2, 2, 5, 2, 4, 6},
      {1, 0, 4, 2, 1, 1, 3, 1, 4, 2, 1, 5, 6, 3, 5, 1, 4, 3, 4, 2, 0, 6, 3, 0, 2, 4, 3, 6, 0, 1, 4, 0, 2, 6, 5, 5, 2, 5, 0, 0, 1, 4, 6, 6, 5, 6, 0, 5, 0, 5, 0, 1, 4, 1, 5, 6, 6, 3, 0, 3, 1, 6, 0, 5, 6, 2, 6, 0, 0, 5, 5, 4, 3, 6, 4, 6, 3, 6, 0, 1, 1, 5, 6, 0, 0, 4, 0, 6, 3, 6, 5, 2, 0, 3, 4, 5, 6, 1, 1, 0, 2, 2, 6, 4, 4, 3, 6, 3, 0, 4, 1, 3, 4, 5, 0, 2, 2, 5, 5, 0, 2, 2, 6, 6, 3, 0, 6, 2, 4, 1, 1, 1, 0, 4, 0, 0, 5, 1, 6, 1, 2, 4, 0, 3, 1, 2, 0, 3, 2, 5, 4, 3, 5, 2, 5, 6, 0, 0, 4, 6, 5, 3, 5, 1, 3, 6, 5, 0, 0, 1, 2, 3, 1, 4, 6, 1, 6, 5, 2, 0, 5, 3, 4, 0, 3, 2, 6, 5, 0, 1, 1, 4, 5, 0, 6, 3, 5, 1, 5, 3, 2, 4, 0, 2, 1, 6, 3, 5, 3, 6, 2, 1, 2, 5, 1, 6, 0, 0, 3, 4, 6, 6, 2, 2, 5, 0, 5, 0, 1, 1, 4, 2, 2, 1, 6, 5, 2, 6, 1, 1, 4, 3, 0, 6, 5, 5, 3, 4, 1, 2, 2, 4, 3, 1, 4, 2, 6, 3, 1, 1, 0, 2, 2, 2, 6, 2, 0, 0, 2, 6, 4, 1, 5, 1, 4, 5, 2, 6, 3, 1, 5, 2, 6, 6, 5, 3, 2, 2, 0, 6, 6, 6, 4, 2, 3, 4, 2, 2, 5, 4},
      {6, 6, 5, 2, 0, 3, 4, 4, 1, 3, 5, 1, 2, 6, 4, 3, 1, 4, 0, 5, 5, 5, 5, 4, 4, 6, 4, 4, 2, 5, 5, 3, 2, 6, 6, 5, 5, 6, 6, 4, 3, 2, 5, 2, 4, 6, 2, 0, 1, 5, 3, 4, 0, 6, 0, 3, 5, 0, 3, 3, 4, 4, 4, 4, 2, 2, 4, 1, 5, 5, 2, 4, 0, 2, 1, 1, 5, 6, 3, 2, 3, 6, 5, 0, 0, 2, 5, 4, 2, 6, 0, 5, 4, 2, 4, 6, 1, 4, 3, 6, 3, 6, 5, 0, 5, 2, 3, 3, 2, 3, 0, 3, 2, 4, 4, 0, 1, 5, 3, 5, 3, 6, 0, 1, 1, 1, 0, 0, 1, 2, 0, 5, 6, 6, 5, 2, 4, 1, 2, 4, 0, 5, 0, 1, 6, 3, 1, 2, 6, 6, 5, 5, 4, 1, 4, 4, 0, 4, 0, 0, 0, 6, 1, 6, 0, 1, 6, 6, 6, 4, 1, 3, 2, 1, 1, 1, 4, 0, 5, 6, 5, 4, 3, 3, 2, 0, 6, 5, 5, 3, 5, 6, 0, 2, 6, 5, 4, 0, 4, 4, 3, 1, 4, 6, 1, 1, 4, 3, 0, 3, 1, 4, 3, 0, 6, 6, 4, 6, 5, 0, 6, 5, 2, 2, 3, 2, 4, 1, 6, 1, 6, 5, 2, 2, 1, 0, 1, 1, 2, 6, 3, 5, 1, 2, 1, 4, 4, 0, 0, 1, 5, 5, 2, 4, 0, 2, 6, 2, 1, 1, 4, 2, 4, 0, 1, 4, 2, 0, 2, 1, 0, 6, 5, 1, 6, 3, 4, 3, 4, 1, 3, 5, 4, 3, 1, 2, 6, 6, 1, 5, 4, 6, 0, 2, 0, 3, 3, 1, 1, 6},
      {3, 4, 4, 4, 6, 2, 4, 5, 5, 0, 6, 3, 0, 0, 4, 6, 5, 6, 2, 3, 2, 3, 4, 6, 3, 6, 6, 5, 5, 2, 3, 2, 5, 5, 2, 0, 0, 5, 3, 1, 1, 1, 2, 1, 6, 4, 6, 3, 6, 5, 2, 5, 0, 2, 0, 4, 0, 2, 6, 5, 3, 2, 3, 0, 4, 0, 2, 3, 3, 2, 1, 1, 1, 4, 2, 0, 0, 5, 0, 4, 1, 0, 4, 3, 2, 5, 3, 3, 0, 3, 3, 5, 6, 0, 4, 3, 0, 5, 6, 6, 5, 3, 1, 6, 2, 0, 0, 3, 1, 2, 3, 3, 1, 3, 3, 4, 3, 3, 2, 0, 2, 2, 6, 0, 3, 5, 6, 1, 4, 4, 6, 5, 5, 0, 2, 1, 0, 1, 1, 4, 4, 4, 3, 2, 5, 3, 3, 3, 1, 2, 2, 4, 1, 6, 5, 1, 6, 1, 2, 6, 4, 3, 0, 1, 4, 3, 0, 0, 4, 1, 0, 2, 3, 2, 5, 0, 3, 2, 2, 2, 4, 2, 0, 4, 5, 2, 4, 3, 4, 5, 1, 1, 2, 4, 4, 2, 2, 3, 2, 4, 1, 1, 6, 0, 1, 5, 5, 3, 2, 3, 5, 1, 2, 0, 3, 6, 2, 5, 1, 1, 5, 6, 0, 5, 4, 6, 1, 3, 1, 0, 2, 3, 4, 1, 1, 6, 1, 0, 0, 3, 3, 0, 2, 4, 6, 5, 6, 6, 1, 2, 0, 6, 3, 4, 1, 5, 5, 1, 4, 5, 0, 6, 4, 1, 4, 6, 0, 4, 3, 0, 1, 2, 2, 1, 2, 6, 4, 3, 3, 3, 0, 2, 0, 2, 2, 1, 3, 3, 3, 3, 2, 3, 2, 5, 5, 3, 0, 1, 0, 3},
      {5, 5, 0, 4, 5, 3, 6, 4, 2, 2, 3, 5, 1, 5, 5, 3, 2, 2, 1, 6, 5, 3, 5, 1, 3, 2, 0, 4, 6, 3, 6, 1, 0, 5, 4, 1, 2, 6, 6, 2, 4, 0, 1, 1, 4, 4, 3, 0, 0, 0, 2, 0, 5, 0, 3, 1, 0, 4, 3, 0, 0, 1, 0, 4, 3, 6, 4, 6, 3, 1, 1, 1, 5, 5, 4, 0, 5, 0, 0, 3, 5, 2, 5, 1, 2, 1, 5, 1, 2, 6, 0, 4, 1, 0, 5, 0, 4, 2, 4, 2, 6, 0, 4, 2, 6, 4, 5, 6, 2, 0, 3, 0, 0, 0, 1, 5, 0, 2, 2, 6, 4, 2, 5, 0, 3, 0, 1, 0, 1, 4, 5, 0, 6, 0, 6, 4, 0, 0, 4, 0, 6, 4, 3, 2, 4, 2, 1, 6, 2, 1, 2, 5, 0, 3, 3, 5, 2, 0, 5, 6, 4, 4, 0, 6, 5, 3, 0, 0, 1, 1, 5, 6, 4, 6, 6, 6, 3, 6, 1, 4, 3, 3, 4, 3, 0, 0, 0, 3, 4, 4, 0, 3, 2, 5, 0, 3, 2, 0, 2, 4, 2, 6, 6, 2, 3, 4, 1, 0, 4, 6, 2, 5, 5, 4, 0, 3, 2, 4, 3, 3, 4, 0, 6, 6, 3, 2, 5, 3, 0, 3, 1, 5, 2, 1, 1, 6, 6, 1, 2, 2, 3, 0, 5, 5, 4, 0, 0, 0, 5, 2, 6, 1, 3, 1, 3, 2, 4, 2, 3, 0, 4, 0, 2, 6, 4, 2, 5, 3, 6, 4, 2, 4, 0, 4, 5, 2, 5, 3, 2, 4, 4, 5, 3, 3, 1, 3, 6, 4, 5, 1, 1, 6, 2, 6, 5, 0, 0, 6, 3, 6},
      {5, 5, 0, 0, 5, 6, 1, 5, 5, 0, 1, 0, 4, 0, 6, 5, 4, 6, 4, 0, 5, 4, 5, 2, 4, 0, 0, 0, 2, 0, 5, 6, 3, 6, 6, 0, 3, 6, 5, 5, 1, 2, 3, 6, 2, 5, 0, 1, 0, 4, 6, 1, 6, 1, 0, 6, 3, 5, 5, 1, 6, 5, 2, 1, 4, 0, 1, 3, 4, 2, 2, 3, 6, 6, 0, 2, 4, 2, 0, 6, 6, 1, 3, 5, 5, 6, 2, 6, 4, 5, 3, 4, 2, 0, 3, 4, 5, 6, 5, 3, 0, 2, 3, 3, 5, 0, 1, 3, 3, 0, 4, 3, 5, 6, 6, 0, 4, 2, 4, 0, 4, 3, 3, 0, 2, 6, 5, 1, 4, 2, 3, 5, 5, 0, 4, 6, 0, 2, 1, 1, 0, 1, 3, 6, 5, 2, 1, 4, 6, 3, 3, 0, 4, 1, 0, 1, 5, 3, 5, 5, 3, 4, 2, 4, 5, 6, 6, 6, 1, 1, 4, 2, 6, 0, 0, 2, 5, 2, 4, 2, 1, 3, 4, 1, 0, 4, 4, 4, 5, 3, 6, 1, 5, 0, 1, 1, 0, 4, 0, 6, 5, 1, 1, 3, 0, 0, 4, 0, 6, 6, 4, 5, 5, 1, 0, 5, 6, 2, 5, 1, 0, 6, 5, 6, 0, 3, 3, 1, 5, 0, 1, 0, 1, 1, 5, 6, 4, 0, 6, 2, 6, 5, 5, 4, 1, 6, 0, 6, 3, 1, 3, 2, 6, 2, 3, 6, 2, 6, 6, 6, 1, 4, 3, 6, 1, 0, 3, 0, 4, 4, 3, 1, 0, 4, 6, 0, 3, 2, 4, 4, 4, 2, 1, 0, 1, 2, 5, 2, 5, 5, 1, 5, 1, 0, 1, 0, 5, 5, 1, 3},
      {0, 3, 0, 0, 2, 4, 2, 5, 5, 2, 5, 6, 1, 0, 6, 6, 4, 3, 3, 6, 5, 0, 5, 6, 6, 5, 6, 6, 3, 5, 4, 5, 1, 6, 3, 2, 3, 4, 4, 5, 3, 6, 0, 6, 0, 0, 5, 0, 6, 2, 6, 4, 4, 0, 1, 1, 3, 0, 1, 6, 2, 3, 3, 6, 5, 2, 5, 4, 5, 4, 0, 0, 0, 1, 0, 5, 1, 5, 6, 1, 1, 2, 2, 2, 1, 6, 2, 4, 1, 2, 2, 1, 6, 0, 0, 0, 5, 1, 5, 1, 3, 6, 3, 0, 6, 0, 3, 5, 5, 1, 1, 6, 4, 0, 3, 0, 6, 0, 2, 5, 1, 1, 5, 2, 6, 2, 1, 0, 0, 4, 2, 5, 6, 2, 1, 6, 4, 4, 1, 1, 0, 3, 4, 5, 1, 0, 1, 4, 6, 4, 4, 3, 5, 2, 0, 0, 0, 6, 4, 4, 5, 2, 1, 3, 6, 6, 3, 4, 4, 0, 4, 5, 1, 2, 0, 3, 0, 5, 1, 5, 1, 0, 4, 6, 0, 2, 2, 4, 0, 4, 4, 1, 4, 4, 0, 4, 3, 1, 6, 5, 1, 2, 0, 3, 4, 0, 3, 2, 2, 5, 3, 0, 0, 1, 0, 6, 2, 3, 1, 6, 5, 3, 0, 5, 4, 0, 6, 2, 0, 3, 0, 3, 2, 2, 3, 6, 3, 1, 1, 4, 3, 0, 6, 4, 4, 6, 3, 5, 4, 4, 4, 4, 6, 1, 3, 1, 4, 6, 2, 5, 4, 4, 4, 0, 4, 2, 5, 6, 0, 0, 6, 5, 5, 0, 4, 4, 5, 6, 2, 5, 4, 3, 3, 1, 2, 1, 5, 0, 2, 0, 6, 6, 0, 2, 3, 4, 6, 4, 3, 3},
      {4, 6, 3, 6, 3, 2, 0, 2, 2, 3, 1, 6, 3, 6, 0, 1, 2, 6, 0, 1, 6, 6, 3, 3, 5, 2, 6, 2, 5, 2, 2, 5, 2, 4, 4, 2, 1, 5, 5, 3, 3, 6, 1, 5, 0, 4, 6, 2, 6, 4, 3, 2, 5, 5, 1, 4, 5, 1, 5, 0, 4, 3, 1, 0, 5, 6, 6, 4, 4, 1, 3, 2, 1, 0, 5, 5, 1, 5, 6, 6, 2, 0, 1, 3, 3, 5, 5, 4, 6, 5, 0, 0, 5, 0, 4, 3, 3, 3, 5, 2, 5, 4, 0, 6, 4, 5, 2, 1, 6, 5, 6, 6, 1, 2, 4, 3, 3, 0, 1, 2, 2, 4, 5, 1, 4, 1, 1, 5, 3, 3, 6, 1, 2, 6, 1, 1, 1, 3, 0, 0, 6, 4, 2, 3, 1, 6, 1, 0, 0, 5, 6, 0, 0, 1, 0, 4, 5, 5, 3, 4, 5, 3, 2, 2, 4, 1, 5, 5, 5, 1, 5, 3, 3, 6, 1, 4, 5, 3, 1, 6, 4, 2, 3, 3, 6, 2, 1, 5, 0, 2, 2, 6, 2, 1, 3, 2, 3, 3, 1, 2, 5, 1, 5, 2, 2, 1, 2, 6, 2, 0, 3, 5, 4, 6, 1, 1, 6, 2, 0, 1, 0, 0, 1, 3, 6, 1, 1, 2, 2, 4, 3, 6, 5, 5, 1, 2, 6, 0, 0, 2, 6, 1, 0, 6, 6, 6, 6, 3, 2, 1, 0, 5, 5, 3, 0, 3, 5, 0, 2, 6, 4, 2, 5, 2, 3, 4, 3, 1, 3, 0, 6, 0, 4, 6, 1, 1, 5, 5, 5, 3, 0, 0, 2, 3, 5, 2, 2, 6, 5, 3, 5, 0, 1, 1, 4, 0, 2, 1, 0, 3},
      {5, 0, 4, 5, 3, 1, 0, 1, 0, 5, 2, 1, 0, 5, 3, 0, 6, 3, 6, 4, 4, 4, 3, 2, 1, 6, 3, 4, 4, 6, 0, 2, 3, 1, 4, 1, 0, 2, 3, 3, 5, 4, 3, 4, 1, 5, 3, 6, 1, 3, 0, 4, 3, 3, 1, 6, 1, 5, 0, 5, 1, 6, 6, 3, 2, 4, 1, 6, 5, 5, 5, 1, 4, 0, 1, 1, 1, 1, 0, 3, 4, 4, 4, 0, 6, 3, 5, 4, 4, 2, 6, 0, 3, 0, 5, 1, 4, 2, 5, 4, 2, 6, 6, 3, 5, 3, 3, 4, 1, 5, 6, 1, 4, 3, 2, 1, 3, 0, 0, 4, 6, 6, 0, 5, 4, 6, 0, 2, 2, 5, 6, 5, 3, 0, 5, 5, 4, 4, 0, 3, 2, 6, 6, 0, 2, 6, 6, 0, 1, 5, 1, 0, 1, 4, 5, 3, 4, 0, 4, 2, 4, 3, 0, 2, 6, 3, 3, 6, 1, 3, 4, 2, 6, 6, 4, 6, 3, 1, 4, 6, 2, 1, 2, 4, 3, 0, 6, 3, 0, 1, 5, 0, 2, 6, 5, 3, 3, 4, 5, 3, 2, 0, 3, 3, 6, 6, 6, 3, 3, 6, 0, 4, 6, 0, 4, 6, 3, 4, 1, 6, 2, 3, 5, 0, 1, 2, 4, 0, 0, 6, 5, 6, 0, 5, 5, 1, 2, 3, 3, 6, 6, 6, 5, 1, 1, 6, 6, 0, 3, 2, 1, 6, 3, 3, 2, 5, 4, 5, 2, 2, 5, 4, 1, 2, 4, 6, 4, 4, 6, 1, 5, 5, 2, 4, 2, 5, 4, 4, 5, 6, 4, 1, 0, 0, 6, 2, 4, 3, 4, 5, 1, 5, 2, 0, 2, 0, 1, 4, 4, 3},
      {5, 6, 6, 1, 5, 4, 6, 0, 6, 3, 1, 5, 5, 1, 0, 1, 5, 3, 1, 1, 5, 3, 4, 5, 3, 0, 4, 1, 1, 1, 0, 0, 0, 5, 3, 5, 3, 2, 6, 1, 3, 4, 3, 3, 1, 2, 6, 2, 3, 1, 3, 4, 5, 3, 3, 3, 1, 4, 0, 4, 2, 2, 6, 0, 2, 5, 3, 0, 5, 5, 6, 1, 0, 6, 5, 5, 4, 5, 5, 6, 5, 5, 1, 0, 1, 4, 6, 5, 1, 6, 3, 4, 2, 0, 6, 5, 5, 5, 6, 2, 0, 2, 6, 3, 1, 3, 0, 5, 3, 1, 1, 4, 1, 5, 6, 1, 6, 6, 2, 5, 1, 1, 5, 3, 5, 6, 5, 5, 0, 1, 5, 4, 0, 6, 3, 3, 4, 0, 2, 3, 6, 0, 0, 5, 3, 5, 1, 6, 1, 4, 2, 0, 6, 3, 3, 6, 4, 4, 5, 5, 6, 2, 4, 5, 0, 3, 2, 1, 6, 3, 2, 4, 0, 6, 5, 2, 1, 5, 1, 0, 4, 3, 5, 4, 5, 4, 4, 0, 3, 1, 5, 6, 3, 4, 1, 3, 1, 1, 2, 4, 1, 6, 3, 5, 3, 2, 6, 2, 2, 5, 0, 3, 6, 2, 2, 0, 5, 5, 3, 3, 2, 3, 1, 2, 1, 5, 5, 1, 3, 1, 0, 5, 6, 6, 1, 5, 5, 6, 0, 3, 4, 1, 6, 1, 1, 5, 4, 1, 3, 1, 0, 1, 4, 5, 5, 5, 3, 6, 2, 6, 0, 4, 6, 2, 0, 6, 1, 5, 1, 5, 3, 5, 1, 3, 1, 5, 2, 4, 6, 2, 5, 2, 4, 4, 1, 1, 0, 1, 4, 2, 5, 2, 2, 0, 4, 0, 2, 4, 2, 2}

  };


  /**
   * is the general engine method coordinates dropping blocks, adding blocks, logging game state,
   * and line clearing
   */
  public static void update() {
    if (!isPaused) { // little hacky, could be improved
      if (board.getFallingBlock().isFalling()) {
        if (board.checkDown()) {
          board.blockDown();
        } else {
          // block just landed
          if (logMode) {
            Logger.log(board.getBoardState(), board.getFallingBlock(),
                nextPieceBoard.getFallingBlock());
          }
          ArrayList<Integer> linesToClear = board.getFullRows();
          if (!linesToClear.isEmpty()) {
            board.clearLines(linesToClear);
          } else {
            board.setNotFalling();
            addBlock();
          }
        }
      } else {
        addBlock();
      }
    }
  }

  /**
   * 
   * @return a 2D array of the board, each index references a possible square and if it is filled or
   *         not
   */
  public Tile[][] getBoardState() {
    return board.getBoardState();
  }

  /**
   * adds a new random block to the board. Before one is added, a BlockAddedEvent is fired the new
   * block is taken from the nextBlockBoard with is shown to the user, introduced to the board, and
   * a new random one added to the nextBlockBoard
   */
  public static void addBlock() {
    // //needed to access Node.fireEvent, the GridPane was an accessible Node
    // if (autoplay){
    // board.getGrid().fireEvent(new BlockAddedEvent(nextBlock, board.getBoardState()));
    // }
    Move[] solution = Cerulean.submitBlock(nextBlock, board.getBoardState());
    board.setFallingBlock(nextBlock);
    board.updateBoardWithNewBlock(nextBlock);
    for (Move m : solution) {
      Engine.getBoard().pressed(m);
    }
    if(randomizeBlocks)
      nextBlock = genRandomBlock();
    else
      nextBlock = getNextBlock(blockCount);
    nextPieceBoard.clearBoard();
    Renderer.draw(nextPieceBoard);
    nextPieceBoard.setFallingBlock(nextBlock);
    nextPieceBoard.updateBoardWithNewBlock(nextBlock);
    nextPieceBoard.setNotFalling();
    Renderer.draw(nextPieceBoard);
    blockCount++;
  }

  /**
   * 
   * @return a new random instance of Block
   */
  private static Block genRandomBlock(){
    Random r = new Random();
    int i = r.nextInt(7);
    return translateToBlock(i);
  }

  private static Block getNextBlock(int blockNum){
    Block b = translateToBlock(BLOCKS[0][blockNum]);    //change the 0 to gameNum for automated testing TODO
    System.out.println(gameNum + " " + blockNum + " " + b.getType());
    return b;
  }
  
  private static Block translateToBlock(int i) {
    // return new StraightLine();
    switch (i) {
      case 0:
        return new LeftL();
      case 1:
        return new RightL();
      case 2:
        return new LeftS();
      case 3:
        return new RightS();
      case 4:
        // return new LeftL();//change to straight line
        return new StraightLine();
      case 5:
        return new TBlock();
      case 6:
        return new Square();
    }
    throw new RuntimeException("bad random num");
  }

  /**
   * gets the Board object the engine is monitoring
   * 
   * @return the Board object the engine is working with
   */
  public static Board getBoard() {
    return board;
  }

  /**
   * toggles pause
   * 
   * @return the new value of the isPaused variable
   */
  public static boolean togglePause() {
    isPaused = !isPaused;
    return isPaused;
  }

  /**
   * serves as a kinds of initial pseudo-constructor to set the boards the engine has to work with
   * 
   * @param b1 the main game board
   * @param b2 a 4x4 smaller board where the next piece is shown
   */
  public static void setBoards(Board b1, Board b2) {
    board = b1;
    nextPieceBoard = b2;
  }

  /**
   * also serves to initialize values to the engine
   * 
   * @param debugMode whether the engine should operate in debugMode
   * @param logMode whether the engine should log its actions
   */
  public static void setMode(boolean debugMode, boolean logMode, boolean autoplay) {
    // Engine.debugMode = debugMode;
    Engine.logMode = logMode;
    Engine.autoplay = autoplay;
  }
  
  public static void setRandomizeBlocks(boolean randomizeBlocks){
    Engine.randomizeBlocks = randomizeBlocks;
  }

  public static int getBlockCount() {
    return blockCount;
  }

  
  public static void reset(){
    Engine.blockCount = 0;
//    Engine.gameNum++; //keep for automated testing
  }


}
